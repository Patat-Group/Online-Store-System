<div class="main-div">
  <app-nav-bar></app-nav-bar>
  <app-categories-nav-bar></app-categories-nav-bar>
  <div class="update-div">
    <form [formGroup]="updateForm" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="col">
          <h2 class="update-header no-select-with-text">Change Password</h2>
          <div class="form-group ">
            <label for="InputOldPassword" class="no-select input-label">Old Password :</label>
            <div class="row div-password"><input [type]="showOldPassword? 'text' :'password'"
                                                 [class]="emptyOldPassword ?'form-control input-password has-error':'form-control input-password'"
                                                 id="InputOldPassword" formControlName="InputOldPassword"
                                                 placeholder="Enter Your Old Password"
                                                 (input)="onOldPasswordChange($event)">
              <button type="button"
                      [class]="showOldPassword ? 'fa fa-eye show-hide-password no-select' : 'fa fa-eye-slash show-hide-password no-select'"
                      (click)="toggleShowOldPassword()" tabindex="-1"></button></div>
            <label for="InputNewPassword" class="no-select input-label">New Password :</label>
            <div class="row div-password"><input [type]="showNewPassword? 'text' :'password'"
                                                 [class]="emptyNewPassword ?'form-control input-password has-error':'form-control input-password'"
                                                 id="InputNewPassword" formControlName="InputNewPassword"
                                                 placeholder="New Password" (input)="onNewPasswordChange($event)">
              <button type="button"
                      [class]="showNewPassword ? 'fa fa-eye show-hide-password no-select' : 'fa fa-eye-slash show-hide-password no-select'"
                      (click)="toggleShowNewPassword()" tabindex="-1">
              </button>
            </div>
            <div class="tip-for-password">
              <div class="container">
                <div class="row password-tips " [class.shadow-tip]="emptyNewPasswordAfterModify">
                  <span class="password-conditions">Password conditions:</span>
                  <div class="col-sm-1"><i [class]="isPasswordMinimumLengthGood ? 'fa fa-check':'fa fa-close'"
                                           [hidden]="emptyNewPasswordAfterModify"></i></div>
                  <div class="col-sm-5" [class.good-tip]="isPasswordMinimumLengthGood"
                       [class.error-tip]="!isPasswordMinimumLengthGood  && !emptyNewPasswordAfterModify">minimum
                    length of
                    6.
                  </div>
                  <div class="col-sm-1"><i [class]="isPasswordAtLeastOneDigit ? 'fa fa-check':'fa fa-close'"
                                           [hidden]="emptyNewPasswordAfterModify"></i></div>
                  <div class="col-sm-5 " [class.good-tip]="isPasswordAtLeastOneDigit"
                       [class.error-tip]="!isPasswordAtLeastOneDigit && !emptyNewPasswordAfterModify">at least one
                    digit.
                  </div>
                  <div class="w-100"></div>
                  <div class="col-sm-1"><i [class]="isPasswordAtLeastOneUppercase ? 'fa fa-check':'fa fa-close'"
                                           [hidden]="emptyNewPasswordAfterModify"></i></div>
                  <div class="col-sm-5" [class.good-tip]="isPasswordAtLeastOneUppercase"
                       [class.error-tip]="!isPasswordAtLeastOneUppercase  && !emptyNewPasswordAfterModify">at least
                    one
                    uppercase.
                  </div>
                  <div class="col-sm-1"><i [class]="isPasswordAtLeastOneLowercase ? 'fa fa-check':'fa fa-close'"
                                           [hidden]="emptyNewPasswordAfterModify"></i></div>
                  <div class="col-sm-5" [class.good-tip]="isPasswordAtLeastOneLowercase"
                       [class.error-tip]="!isPasswordAtLeastOneLowercase  && !emptyNewPasswordAfterModify">at least
                    one
                    lowercase.
                  </div>
                </div>
              </div>
            </div>
            <label for="InputPassword2" class="no-select input-label">Confirm New Password :</label>
            <div class="row div-password2"><input [type]="showNewPassword? 'text' :'password'"
                                                  [class]="emptyNewPassword2 ?'form-control input-password has-error':'form-control input-password'"
                                                  id="InputPassword2" formControlName="InputPassword2"
                                                  placeholder="Confirm Password" (input)="onPassword2Change($event)">
            </div>
            <div class="row  password2-tips" [hidden]="emptyNewPassword2AfterModify">
              <div class="col-sm-1 "><i [class]="isNewPassword2Matches ? 'fa fa-check':'fa fa-close'"
                                        [hidden]="emptyNewPassword2AfterModify"></i></div>
              <div class="col-sm-11 password2-tips-text" [class.good-tip]="isNewPassword2Matches"
                   [class.error-tip]="!isNewPassword2Matches && !emptyNewPassword2AfterModify">Passwords matches.
              </div>
              <div class="w-100"></div>
            </div>

          </div>
          <button type="submit" class="btn btn-primary update">Update Password</button>
        </div>
        <div class="col">
          <img class="updateImage no-select-with-text" [src]="imageToShow"
               alt="Place image title">
        </div>
      </div>
    </form>
  </div>

  <app-footer></app-footer>
</div>
<ng-template #updatePasswordMessage>
  <h2 matDialogTitle>Update Result</h2>
  <mat-dialog-content>
    <p>{{this.errorMessage}}</p>
  </mat-dialog-content>
  <mat-dialog-actions align="end">
    <button mat-raised-button matDialogClose color="{{errorInRegister==false?'primary':'warn'}}" routerLink="{{errorInRegister==false?'/profile':'/profile/setting/password'}}">OK</button>
  </mat-dialog-actions>
</ng-template>
